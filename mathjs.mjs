/**
  * Copyright (c) 2019 Jin Yang. All Rights Reserved.
  */
function r(r){return r[0].length}function o(r){return r.length}function n(n){if(o(n)!==r(n))throw new Error("matrix is not square");for(var f=i(n),t=f.A,a=f.s,e=1,u=0;u<o(n);++u)e*=t[u][u];return e=Math.pow(-1,a)*e}function f(n){if(o(n)!==r(n))throw new Error("matrix is not square");for(var f=o(n),a=i(n),e=a.A,u=a.P,v=1,h=0;h<f;++h)v*=e[h][h];if(0===v)throw new Error("singular matrix given");for(var w=t(f,f),l=0;l<f;l++){for(h=0;h<f;h++){u[h]===l?w[h][l]=1:w[h][l]=0;for(var s=0;s<h;s++)w[h][l]-=e[h][s]*w[s][l]}for(h=f-1;h>=0;h--){for(s=h+1;s<f;s++)w[h][l]-=e[h][s]*w[s][l];w[h][l]=w[h][l]/e[h][h]}}return w}function t(r,o,n){void 0===n&&(n=0);for(var f=new Array(r),t=0;t<r;t++)f[t]=new Array(o).fill(n);return f}function a(r){for(var o=new Array(r.length),n=0;n<o.length;++n)o[n]=Array.from(r[n]);return o}function i(n){var f,t,i,e,u,v=o(n),h=r(n),w=Math.min(v,h),l=a(n),s=0,c=[];for(i=0;i<v;i++)c[i]=i;for(e=0;e<h;e++){if(e>0)for(i=0;i<v;i++){var g=Math.min(i,e),A=0;for(u=0;u<g;u++)A+=l[i][u]*l[u][e];l[i][e]-=A}var m=e,M=0,y=0;for(i=e;i<v;i++){var x=l[i][e],q=Math.abs(x);q>M&&(m=i,M=q,y=x)}if(e!==m&&(f=[c[m],c[e]],c[e]=f[0],c[m]=f[1],t=[l[m],l[e]],l[e]=t[0],l[m]=t[1],s++),e<v)for(i=e+1;i<v;i++){0!==l[i][e]&&(l[i][e]/=y)}}var E=[];for(i=0,w=c.length;i<w;i++)E[c[i]]=i;return{A:l,P:E,s:s}}function e(n){var f,i,e,u=o(n),v=r(n),h=function(r){for(var o=t(r,r,0),n=0;n<r;n++)o[n][n]=1;return o}(u),w=h,l=a(n),s=l,c=new Array(u).fill(0);for(e=0;e<Math.min(v,u);++e){var g=s[e][e],A=-Math.sign(g),m=A,M=0;for(f=e;f<u;f++)M+=s[f][e]*s[f][e];var y=A*Math.sqrt(M);if(0!==y){var x=g-y;for(c[e]=1,f=e+1;f<u;f++)c[f]=s[f][e]/x;var q=-x/y,E=void 0;for(i=e;i<v;i++){for(E=0,f=e;f<u;f++)E+=c[f]*s[f][i];for(E*=q,f=e;f<u;f++)s[f][i]=(s[f][i]-c[f]*E)*m}for(f=0;f<u;f++){for(E=0,i=e;i<u;i++)E+=w[f][i]*c[i];for(E*=q,i=e;i<u;++i)w[f][i]=(w[f][i]-E*c[i])/m}}}for(f=0;f<u;++f)for(i=0;i<f&&i<v;++i)s[f][i]=0;return{Q:h,R:l,w:c}}export{t as create,n as det,a as from,f as inv,i as lup,e as qr};
//# sourceMappingURL=mathjs.min.mjs.map
